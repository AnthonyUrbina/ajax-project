{"version":3,"file":"main.js","sourceRoot":"","sources":["../../src/main.ts"],"names":[],"mappings":"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","sourcesContent":["/* exported CollectionData */\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\nconst $mainViewTitle = document.querySelector('.card-text > p')!;\nconst $cardImageDiv = document.querySelector('.card')!;\nconst $buttonContainer = document.querySelector('.button-container')!;\nconst $modal = document.querySelector('.modal-box')!;\nconst $overlay = document.querySelector('.overlay')!;\nconst $modalText = document.querySelector('.modal-p')!;\nconst $modalImageDiv = document.querySelector('.modal-image')!;\nconst $miniMessageIconMatch = document.querySelector('#mini-message-icon-match')!;\nconst $miniMessageIconSuperlikes = document.querySelector('#mini-message-icon-superlikes')!;\nconst $mainViewImage = document.createElement('img')!;\nconst $modalImage = document.createElement('img')!;\nconst $matchesUl = document.querySelector('.matches-ul')!;\nconst $superlikesUl = document.querySelector('.superlikes-ul')!;\nconst $dataViewNodeList = document.querySelectorAll<HTMLElement>('[data-view]')!;\nconst $liNodeList = document.querySelectorAll<HTMLElement>('li')!;\n\nconst $cssLoader = document.querySelector('.lds-spinner')!;\n\ninterface Container {\n  owner: string | null,\n  addresses: string | null\n}\n\nlet newCollection: Container;\n\ninterface CollectionData {\n  collectionName: string,\n  likes: number\n  dislikes: number\n  superlikes: number\n}\n\ninterface NftData {\n  name: string,\n  image: string,\n  collectionName: string,\n  hasBeenRated?: boolean\n}\n\nfunction showFirstNFT() {\n  cssLoaderActivate();\n  newCollection = chooseWallet();\n  const xhr = new XMLHttpRequest();\n  xhr.open('GET', 'https://eth-mainnet.g.alchemy.com/nft/v2/7VSl7jqnLgnd8IhZOmdPbY1nyoFggmIx/getNFTs?owner=' + newCollection.owner + newCollection.addresses);\n  xhr.responseType = 'json';\n  xhr.addEventListener('load', function () {\n    cssLoaderActivate();\n    const randomInt = getRandomNumber(xhr.response.ownedNfts.length);\n    const nftData = {\n      name: xhr.response.ownedNfts[randomInt].metadata.name,\n      image: xhr.response.ownedNfts[randomInt].media[0].gateway,\n      collectionName: xhr.response.ownedNfts[randomInt].contractMetadata.name,\n      hasBeenRated: false\n    };\n\n    const collectionData: CollectionData = {\n      collectionName: nftData.collectionName,\n      likes: 0,\n      dislikes: 0,\n      superlikes: 0\n    };\n\n    $mainViewImage.src = nftData.image;\n    $cardImageDiv.appendChild($mainViewImage);\n    $mainViewTitle.textContent = nftData.name;\n\n    interface OpenseaData {\n      metadata: {name: string},\n      media: [{gateway: string}],\n      contractMetadata: {name: string},\n      title: string,\n      contract: {address: string}\n    }\n\n    data.nftList = xhr.response.ownedNfts.map((nft: OpenseaData) => {\n      // console.log(nft);\n      const { metadata, media, contractMetadata, title, contract } = nft;\n      const image = media[0].gateway;\n      const { address } = contract;\n      const { name } = metadata;\n      const collectionName = contractMetadata.name;\n\n      const contractNFT = {\n        title,\n        name,\n        collectionName,\n        image,\n        address\n      };\n\n      return contractNFT;\n    });\n\n    data.nftVisible = nftData;\n\n    if (!data.ratingsInfo[collectionData.collectionName as keyof CollectionData]) {\n      getCollectionPhotoURL(randomInt);\n      data.ratingsInfo[collectionData.collectionName] = collectionData;\n    }\n\n    data.nftList.splice(randomInt, 1);\n  });\n  xhr.send();\n}\n\nfunction showNewNFT() {\n  const xhr = new XMLHttpRequest();\n  xhr.open('GET', 'https://eth-mainnet.g.alchemy.com/nft/v2/7VSl7jqnLgnd8IhZOmdPbY1nyoFggmIx/getNFTs?owner=' + newCollection.owner);\n  xhr.responseType = 'json';\n  xhr.addEventListener('load', function () {\n    if (data.nftList.length > 0) {\n      const randomInt = getRandomNumber(data.nftList.length);\n\n      const nftName = data.nftList[randomInt].title;\n      const nftImage = data.nftList[randomInt].image;\n      const parentCollectionName = data.nftList[randomInt].name;\n\n      const nftData: NftData = {\n        name: nftName,\n        image: nftImage,\n        collectionName: parentCollectionName,\n        hasBeenRated: false\n      };\n\n      $mainViewImage.src = nftImage;\n      $mainViewTitle.textContent = nftName;\n\n      data.nftVisible = nftData;\n\n      const collectionData: CollectionData = {\n        collectionName: nftData.collectionName,\n        likes: 0,\n        dislikes: 0,\n        superlikes: 0\n      };\n\n      if (!data.ratingsInfo[collectionData.collectionName]) {\n        throttle(getCollectionPhotoURL(randomInt), 3000);\n        data.ratingsInfo[collectionData.collectionName] = collectionData;\n      }\n      data.nftList.splice(randomInt, 1);\n    }\n\n  });\n  xhr.send();\n}\n\nconst handleRatingClick = throttle(\n  (event: MouseEvent) => {\n    const target = event.target as HTMLInputElement;\n    if (target.matches('.fa-solid')) {\n      cssLoaderActivate();\n      const collectionData: CollectionData = {\n        collectionName: data.nftVisible.collectionName,\n        likes: 0,\n        dislikes: 0,\n        superlikes: 0\n      };\n\n      if (data.nftVisible.hasBeenRated === false && data.nftVisible !== null) {\n        showNewNFT();\n        if (target.matches('.fa-heart')) {\n          appendMatchCardLi(collectionData);\n        } else if (target.matches('.fa-star')) {\n          appendMatchCardLi(collectionData);\n          data.superliked.push(data.nftVisible);\n          data.ratingsInfo[collectionData.collectionName].superlikes++;\n          appendSuperlikesCardLi();\n        } else if (target.matches('.fa-thumbs-down')) {\n          data.ratingsInfo[collectionData.collectionName].dislikes++;\n        }\n        data.nftVisible.hasBeenRated = true;\n      }\n\n      if (data.nftList.length === 0) {\n        const matchInfo: CollectionData = findMatch(data);\n        let src = 'images/unavail.jpeg';\n        if (data.collectionPhotos[matchInfo.collectionName]) {\n          src = data.collectionPhotos[matchInfo.collectionName];\n        }\n        $modalText.textContent = 'You and ' + matchInfo.collectionName + ' have liked each other.';\n        $modalImage.src = src;\n        $modalImageDiv.appendChild($modalImage);\n        $modal.className = 'modal-box';\n        $overlay.className = 'overlay';\n      }\n\n      if (data.ratingsInfo[collectionData.collectionName].likes !== null) {\n        $miniMessageIconMatch.className = '';\n        $miniMessageIconSuperlikes.className = '';\n      }\n    }\n  }, 2000);\n\nfunction appendMatchCardLi(collectionData: CollectionData) {\n  if (data.ratingsInfo[collectionData.collectionName].likes >= 1) {\n    for (let i = 0; i < $liNodeList.length; i++) {\n      const $liTextContent = $liNodeList[i].textContent!.replace(/[0-9]/g, '');\n      if ($liTextContent === data.nftVisible.collectionName) {\n        const $li = createMatchCardLi(data.nftVisible.collectionName);\n        data.ratingsInfo[collectionData.collectionName].likes++;\n        $matchesUl.replaceChild($li, $liNodeList[i]);\n      }\n    }\n  } else {\n    const $li = createMatchCardLi(data.nftVisible.collectionName);\n    data.ratingsInfo[collectionData.collectionName].likes++;\n    $matchesUl.appendChild($li);\n  }\n}\n\nfunction handleSwapClick(event: MouseEvent) {\n  const target = event.target as HTMLElement;\n  for (let i = 0; i < $dataViewNodeList.length; i++) {\n    if (target.matches('#view-all') || target.matches('.message-icon')) {\n      if ($dataViewNodeList[i].dataset.view !== 'matches') {\n        $dataViewNodeList[i].className += ' hidden';\n      } else if ($dataViewNodeList[i].dataset.view === 'matches') {\n        $dataViewNodeList[i].classList.remove('hidden');\n      }\n    } else if (target.matches('.match-back-arrow')) {\n      if ($dataViewNodeList[i].dataset.view !== 'swipe') {\n        $dataViewNodeList[i].className += ' hidden';\n      } else if ($dataViewNodeList[i].dataset.view === 'swipe') {\n        $dataViewNodeList[i].classList.remove('hidden');\n      }\n    } else if (target.matches('#continue-playing')) {\n      if ($dataViewNodeList[i].dataset.view !== 'swipe') {\n        $dataViewNodeList[i].className += ' hidden';\n      } else if ($dataViewNodeList[i].dataset.view === 'swipe') {\n        $dataViewNodeList[i].classList.remove('hidden');\n      }\n      if (i === $dataViewNodeList.length - 1) {\n        const $liNodeList = document.querySelectorAll('li');\n        for (let j = 0; j < $liNodeList.length; j++) {\n          if (j < ($liNodeList.length - data.superliked.length)) {\n            $matchesUl.removeChild($liNodeList[j]);\n          } else {\n            $superlikesUl.removeChild($liNodeList[j]);\n          }\n        }\n        $miniMessageIconMatch.className = 'hidden';\n        $miniMessageIconSuperlikes.className = 'hidden';\n        data.ratingsInfo = {};\n        showFirstNFT();\n      }\n    } else if (target.matches('.fa-crown')) {\n      if ($dataViewNodeList[i].dataset.view !== 'superlikes') {\n        $dataViewNodeList[i].className += ' hidden';\n      } else if ($dataViewNodeList[i].dataset.view === 'superlikes') {\n        $dataViewNodeList[i].classList.remove('hidden');\n      }\n    }\n  }\n}\nwindow.addEventListener('DOMContentLoaded', showFirstNFT);\n$buttonContainer.addEventListener('click', handleRatingClick);\ndocument.addEventListener('click', handleSwapClick);\n\nfunction getRandomNumber(collectionLength: number) {\n  const randomNumber = Math.random() * collectionLength;\n  const integer = Math.floor(randomNumber);\n  return integer;\n}\n\nfunction findMatch(data: Data): CollectionData {\n  let container: CollectionData = {\n    collectionName: '',\n    likes: 0,\n    dislikes: 0,\n    superlikes: 0\n  };\n  for (const key in data.ratingsInfo) {\n    for (const keys in data.ratingsInfo) {\n      if (data.ratingsInfo[key] !== data.ratingsInfo[keys]) {\n        if (data.ratingsInfo[key].likes < data.ratingsInfo[keys].likes || data.ratingsInfo[key].likes === null) {\n          break;\n        } else if (container.collectionName === '' || data.ratingsInfo[key].likes > container.likes) {\n          container = data.ratingsInfo[key];\n          break;\n        }\n      }\n    }\n  }\n\n  return container;\n}\n\ninterface Attributes {\n  textContent?: string,\n  class?: string,\n  src?: string\n}\n\nfunction generateDomTree(tagName: string, attributes: Attributes | Record<string, never>, children?) {\n  if (!children) {\n    children = [];\n  }\n  const element = document.createElement(tagName);\n  for (const key in attributes) {\n    if (key === 'textContent') {\n      element.textContent = attributes.textContent ?? 'Error Loading Text';\n    } else {\n      element.setAttribute(key, attributes[key]);\n    }\n  }\n  for (let i = 0; i < children.length; i++) {\n    element.append(children[i]);\n  }\n  return element;\n}\n\nfunction createMatchCardLi(key: string) {\n  let src = 'images/unavail.jpeg';\n  if (data.collectionPhotos[data.nftVisible.collectionName]) {\n    src = data.collectionPhotos[data.nftVisible.collectionName];\n  }\n  return generateDomTree(\n    'li', {}, [\n      generateDomTree(\n        'div', { class: 'row' }, [\n          generateDomTree(\n            'div', { class: 'column-full column-full-media-wrapper card-wrapper-padding' }, [\n              generateDomTree(\n                'div', { class: 'card-wrapper' }, [\n                  generateDomTree('img', { class: 'card-image', src }), generateDomTree('div', { class: 'card-text-wrapper' }, [\n                    generateDomTree(\n                      'div', { class: 'likes-box' }, [\n                        generateDomTree(\n                          'p', { textContent: [data.ratingsInfo[key].likes + 1].toString() }), generateDomTree('i', { class: 'fa-solid fa-heart' })]),\n                    generateDomTree('p', { textContent: data.ratingsInfo[key].collectionName })])])]\n          )])]);\n\n}\n\nfunction getCollectionPhotoURL(randomInt: number) {\n  const xhr = new XMLHttpRequest();\n  xhr.open('GET', 'https://api.opensea.io/api/v1/asset_contract/' + data.nftList[randomInt].address);\n  xhr.setRequestHeader('X-API-KEY', '31e0cc50c1284711abc9837ebf5a5ecd');\n  xhr.responseType = 'json';\n  xhr.addEventListener('load', function () {\n    let parentCollectionPhoto: string;\n\n    if (xhr.status === 429 || xhr.status === 401) {\n      parentCollectionPhoto = 'images/unavail.jpeg';\n    } else {\n      parentCollectionPhoto = xhr.response.image_url;\n    }\n    data.collectionPhotos[data.nftVisible.collectionName] = parentCollectionPhoto;\n  });\n  xhr.send();\n}\n\ninterface Callback { (event: MouseEvent): void }\ninterface Callback2 { (randomInt: number): void }\n\nfunction throttle(callback : Callback | Callback2, limit: number) {\n  let waiting = false;\n  return function () {\n    if (!waiting) {\n      callback.apply(this);\n      waiting = true;\n      setTimeout(function () {\n        cssLoaderActivate();\n        waiting = false;\n      }, limit);\n    }\n  };\n}\n\nfunction chooseWallet() {\n  const container: Container = {\n    owner: null,\n    addresses: null\n  };\n  let addresses = '';\n  const randomInt = getRandomNumber(data.owner.length);\n  container.owner = data.owner[randomInt].wallet;\n  for (let i = 0; i < data.owner[randomInt].projectContract.length; i++) {\n    addresses = addresses.concat('&contractAddresses[]=' + data.owner[randomInt].projectContract[i]);\n  }\n  container.addresses = addresses;\n  data.owner.splice(randomInt, 1);\n  return container;\n}\n\nfunction appendSuperlikesCardLi() {\n  if ($superlikesUl === null) return;\n\n  const $li = createSuperlikesCardLi();\n  $superlikesUl.appendChild($li);\n}\n\nfunction createSuperlikesCardLi() {\n  let src = 'images/unavail.jpeg';\n  if (data.nftVisible.image) {\n    src = data.nftVisible.image;\n  }\n  return generateDomTree(\n    'li',\n    {},\n    [generateDomTree(\n      'div',\n      { class: 'row' },\n      [generateDomTree(\n        'div',\n        { class: 'column-full column-full-media-wrapper card-wrapper-padding' },\n        [generateDomTree(\n          'div',\n          { class: 'card-wrapper' },\n          [generateDomTree('img',\n            { class: 'card-image', src }),\n          generateDomTree(\n            'div',\n            { class: 'card-text-wrapper' },\n            [generateDomTree('p', { textContent: data.nftVisible.name })])])]\n      )])]);\n}\n\nfunction cssLoaderActivate() {\n  if ($cssLoader === null) return;\n  if ($cssLoader.className === 'lds-spinner') {\n    $cssLoader.className = 'lds-spinner hidden';\n  } else if ($cssLoader.className === 'lds-spinner hidden') {\n    if ($cssLoader === null) return;\n    $cssLoader.className = 'lds-spinner';\n  }\n}\n"]}